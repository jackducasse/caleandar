var Calendar=function(e,t,a){for(var n in this.Options={Color:"",LinkColor:"",NavShow:!0,NavVertical:!1,NavLocation:"",DateTimeShow:!0,DateTimeFormat:"mmm, yyyy",DatetimeLocation:"",EventClick:"",EventTargetWholeDay:!1,DisabledDays:[],ModelChange:e},t)this.Options[n]="string"==typeof t[n]?t[n].toLowerCase():t[n];this.Model=e||{},this.Today=new Date,this.Selected=this.Today,this.Today.Month=this.Today.getMonth(),this.Today.Year=this.Today.getFullYear(),a&&(this.Selected=a),this.Selected.Month=this.Selected.getMonth(),this.Selected.Year=this.Selected.getFullYear(),this.Selected.Days=new Date(this.Selected.Year,this.Selected.Month+1,0).getDate(),this.Selected.FirstDay=new Date(this.Selected.Year,this.Selected.Month,1).getDay(),this.Selected.LastDay=new Date(this.Selected.Year,this.Selected.Month+1,0).getDay(),this.Prev=new Date(this.Selected.Year,this.Selected.Month-1,1),0==this.Selected.Month&&(this.Prev=new Date(this.Selected.Year-1,11,1)),this.Prev.Days=new Date(this.Prev.getFullYear(),this.Prev.getMonth()+1,0).getDate()};function createCalendar(e,t,a){if(void 0!==a){var n=new Date(e.Selected.Year,e.Selected.Month+a,1);e=new Calendar(e.Model,e.Options,n),t.innerHTML=""}else for(var l in e.Options)"function"!=typeof e.Options[l]&&"object"!=typeof e.Options[l]&&e.Options[l]&&(t.className+=" "+l+"-"+e.Options[l]);var i=["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"];var d=document.createElement("div");d.className+="cld-main",e.Options.Color&&(d.innerHTML+="<style>.cld-main{color:"+e.Options.Color+";}</style>"),e.Options.LinkColor&&(d.innerHTML+="<style>.cld-title a{color:"+e.Options.LinkColor+";}</style>"),t.appendChild(d),e.Options.NavShow&&e.Options.NavVertical&&function(){var a=document.createElement("div");a.className+="cld-sidebar";var n=document.createElement("ul");n.className+="cld-monthList";for(var l=0;l<i.length-3;l++){var d=document.createElement("li");d.className+="cld-month";var o=l-(4-e.Selected.Month);if(o<0?o+=12:o>11&&(o-=12),0==l)d.className+=" cld-rwd cld-nav",d.addEventListener("click",function(){"function"==typeof e.Options.ModelChange?e.Model=e.Options.ModelChange():e.Model=e.Options.ModelChange,createCalendar(e,t,-1)}),d.innerHTML+='<svg height="15" width="15" viewBox="0 0 100 75" fill="rgba(255,255,255,0.5)"><polyline points="0,75 100,75 50,0"></polyline></svg>';else if(l==i.length-4)d.className+=" cld-fwd cld-nav",d.addEventListener("click",function(){"function"==typeof e.Options.ModelChange?e.Model=e.Options.ModelChange():e.Model=e.Options.ModelChange,createCalendar(e,t,1)}),d.innerHTML+='<svg height="15" width="15" viewBox="0 0 100 75" fill="rgba(255,255,255,0.5)"><polyline points="0,0 100,0 50,75"></polyline></svg>';else if(d.className+=l<4?" cld-pre":l>4?" cld-post":" cld-curr",function(){var a=l-4;d.addEventListener("click",function(){"function"==typeof e.Options.ModelChange?e.Model=e.Options.ModelChange():e.Model=e.Options.ModelChange,createCalendar(e,t,a)}),d.setAttribute("style","opacity:"+(1-Math.abs(a)/4)),d.innerHTML+=i[o].substr(0,3)}(),0==o){var c=document.createElement("li");c.className+="cld-year",c.innerHTML+=l<5?e.Selected.Year:e.Selected.Year+1,n.appendChild(c)}n.appendChild(d)}a.appendChild(n),e.Options.NavLocation?(document.getElementById(e.Options.NavLocation).innerHTML="",document.getElementById(e.Options.NavLocation).appendChild(a)):t.appendChild(a)}(),e.Options.DateTimeShow&&function(){var a=document.createElement("div");if(a.className+="cld-datetime",e.Options.NavShow&&!e.Options.NavVertical){var n=document.createElement("div");n.className+=" cld-rwd cld-nav",n.addEventListener("click",function(){createCalendar(e,t,-1)}),n.innerHTML='<svg height="15" width="15" viewBox="0 0 75 100" fill="rgba(0,0,0,0.5)"><polyline points="0,50 75,0 75,100"></polyline></svg>',a.appendChild(n)}var l=document.createElement("div");if(l.className+=" today",l.innerHTML=i[e.Selected.Month]+", "+e.Selected.Year,a.appendChild(l),e.Options.NavShow&&!e.Options.NavVertical){var o=document.createElement("div");o.className+=" cld-fwd cld-nav",o.addEventListener("click",function(){createCalendar(e,t,1)}),o.innerHTML='<svg height="15" width="15" viewBox="0 0 75 100" fill="rgba(0,0,0,0.5)"><polyline points="0,0 75,50 0,100"></polyline></svg>',a.appendChild(o)}e.Options.DatetimeLocation?(document.getElementById(e.Options.DatetimeLocation).innerHTML="",document.getElementById(e.Options.DatetimeLocation).appendChild(a)):d.appendChild(a)}(),function(){var e=document.createElement("ul");e.className="cld-labels";for(var t=["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"],a=0;a<t.length;a++){var n=document.createElement("li");n.className+="cld-label",n.innerHTML=t[a],e.appendChild(n)}d.appendChild(e)}(),function(){function t(e){var t=document.createElement("p");return t.className+="cld-number",t.innerHTML+=e,t}var a=document.createElement("ul");a.className+="cld-days";for(var n=0;n<e.Selected.FirstDay;n++){let d=e.Prev.Days-e.Selected.FirstDay+(n+1),c=e.Selected.Month<10?"0"+e.Selected.Month:e.Selected.Month,s=e.Selected.Year+"-"+c+"-"+d;(y=document.createElement("li")).className+="cld-day prevMonth",y.setAttribute("data-date",s);for(var l=n%7,i=0;i<e.Options.DisabledDays.length;i++)l==e.Options.DisabledDays[i]&&(y.className+=" disableDay");var o=t(e.Prev.Days-e.Selected.FirstDay+(n+1));y.appendChild(o),a.appendChild(y)}for(n=0;n<e.Selected.Days;n++){let d=n+1<10?"0"+(n+1):n+1,m=e.Selected.Month+1<10?"0"+(e.Selected.Month+1):e.Selected.Month+1,M=e.Selected.Year+"-"+m+"-"+d;for((y=document.createElement("li")).className+="cld-day currMonth",y.setAttribute("data-date",M),l=(n+e.Selected.FirstDay)%7,i=0;i<e.Options.DisabledDays.length;i++)l==e.Options.DisabledDays[i]&&(y.className+=" disableDay");o=t(n+1);for(var c=0;c<e.Model.length;c++){var s=e.Model[c].Date,r=new Date(e.Selected.Year,e.Selected.Month,n+1);let t=new Date,a="";if(a=t<s?" eventday comingEvt":t>s?" eventday previousEvt":" eventday",s.getTime()==r.getTime()){o.className+=a;var h=document.createElement("span");if(h.className+="cld-title","function"==typeof e.Model[c].Link||e.Options.EventClick){var p=document.createElement("a");if(p.setAttribute("href","#"),p.innerHTML+=e.Model[c].Title,e.Options.EventClick){var v=e.Model[c].Link;"string"!=typeof e.Model[c].Link?(p.addEventListener("click",e.Options.EventClick.bind.apply(e.Options.EventClick,[null].concat(v))),e.Options.EventTargetWholeDay&&(y.className+=" clickable",y.addEventListener("click",e.Options.EventClick.bind.apply(e.Options.EventClick,[null].concat(v))))):(p.addEventListener("click",e.Options.EventClick.bind(null,v)),e.Options.EventTargetWholeDay&&(y.className+=" clickable",y.addEventListener("click",e.Options.EventClick.bind(null,v))))}else p.addEventListener("click",e.Model[c].Link),e.Options.EventTargetWholeDay&&(y.className+=" clickable",y.addEventListener("click",e.Model[c].Link));h.appendChild(p)}else h.innerHTML+='<a href="'+e.Model[c].Link+'">'+e.Model[c].Title+"</a>";o.appendChild(h)}}y.appendChild(o),n+1==e.Today.getDate()&&e.Selected.Month==e.Today.Month&&e.Selected.Year==e.Today.Year&&(y.className+=" today"),a.appendChild(y)}var m=13;for(a.children.length>35?m=6:a.children.length<29&&(m=20),n=0;n<m-e.Selected.LastDay;n++){let d=n+1<10?"0"+(n+1):n+1,c=e.Selected.Month+2<10?"0"+(e.Selected.Month+2):e.Selected.Month+2,s=e.Selected.Year+"-"+c+"-"+d;var y;for((y=document.createElement("li")).className+="cld-day nextMonth",y.setAttribute("data-date",s),l=(n+e.Selected.LastDay+1)%7,i=0;i<e.Options.DisabledDays.length;i++)l==e.Options.DisabledDays[i]&&(y.className+=" disableDay");o=t(n+1),y.appendChild(o),a.appendChild(y)}d.appendChild(a)}()}function caleandar(e,t,a){createCalendar(new Calendar(t,a),e)}
